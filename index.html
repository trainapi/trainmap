<html>
<body>
<script type="text/javascript" src="jquery-3.2.1.min.js"></script>
<script type="text/javascript" src="trainmap.js"></script>
<!-- key.js contains API_KEY variable definition -->
<script type="text/javascript" src="key.js"></script>

<div id="map" style="border: 1px black solid;height:500px;width:500px">
</div>
<input id="name" style="width:400px;margin:10px" /><button id="push" style="width:100px">Show</button>

<script type="text/javascript"><!--
var json = {"code":"RLJ","num":"70","name":"Gustav Mahler","company":{"id":1,"name":"České dráhy, a.s.","shortName":"ČD"},"route":[{"id":10033,"name":"Wien Hbf","stops":0,"departure":{"day":0,"hour":7,"minute":10},"longitude":16.3764847,"latitude":48.18522269999999},{"id":28522,"name":"Wien Süd Fbf","stops":0,"departure":{"day":0},"longitude":null,"latitude":null},{"id":300616,"name":"Wien Simmering","stops":0,"departure":{"day":0},"longitude":16.41933,"latitude":48.169878000000004},{"id":28563,"name":"Wien Erdbergerlände","stops":0,"departure":{"day":0},"longitude":16.384892100000002,"latitude":48.206390999999996},{"id":28613,"name":"Stadlau","stops":0,"departure":{"day":0},"longitude":16.448404999999998,"latitude":48.219193},{"id":41756,"name":"Süßenbrunn Süd","stops":0,"departure":{"day":0},"longitude":null,"latitude":null},{"id":28100,"name":"Süßenbrunn","stops":0,"departure":{"day":0},"longitude":null,"latitude":null},{"id":28167,"name":"Gänserndorf","stops":0,"departure":{"day":0},"longitude":16.732743,"latitude":48.340304999999994},{"id":28241,"name":"Drösing","stops":0,"departure":{"day":0},"longitude":16.89578,"latitude":48.540114},{"id":28258,"name":"Hohenau","stops":0,"departure":{"day":0,"hour":7,"minute":54},"longitude":16.900942999999998,"latitude":48.598251},{"id":28282,"name":"Bernhardsthal","stops":0,"departure":{"day":0,"hour":7,"minute":58},"longitude":16.879142,"latitude":48.687791},{"id":300558,"name":"Břeclav st.hr.","stops":0,"departure":{"day":0,"hour":8,"minute":0},"longitude":null,"latitude":null},{"id":334250,"name":"Břeclav os.n.","stops":1,"departure":{"day":0,"hour":8,"minute":7},"longitude":16.8925032,"latitude":48.753812599999996},{"id":380014,"name":"Břeclav přednádraží","stops":0,"departure":{"day":0,"hour":8,"minute":9},"longitude":null,"latitude":null},{"id":356154,"name":"Ladná z","stops":0,"departure":{"day":0,"hour":8,"minute":11},"longitude":null,"latitude":null},{"id":356055,"name":"Podivín","stops":0,"departure":{"day":0,"hour":8,"minute":13},"longitude":16.8537104,"latitude":48.83733289999999},{"id":356253,"name":"Rakvice z","stops":0,"departure":{"day":0,"hour":8,"minute":14},"longitude":16.8199202,"latitude":48.85978970000001},{"id":369058,"name":"Zaječí","stops":0,"departure":{"day":0,"hour":8,"minute":16},"longitude":16.7813378,"latitude":48.88940039999999},{"id":362459,"name":"Šakvice","stops":0,"departure":{"day":0,"hour":8,"minute":18},"longitude":16.7065688,"latitude":48.9127596},{"id":362558,"name":"Popice z","stops":0,"departure":{"day":0,"hour":8,"minute":19},"longitude":null,"latitude":null},{"id":362657,"name":"Pouzdřany z","stops":0,"departure":{"day":0,"hour":8,"minute":21},"longitude":16.6307871,"latitude":48.9416572},{"id":368753,"name":"Vranovice","stops":0,"departure":{"day":0,"hour":8,"minute":22},"longitude":16.605038099999998,"latitude":48.963840999999995},{"id":339754,"name":"Žabčice z","stops":0,"departure":{"day":0,"hour":8,"minute":24},"longitude":16.594749800000002,"latitude":49.011281200000006},{"id":339556,"name":"Hrušovany u Brna","stops":0,"departure":{"day":0,"hour":8,"minute":25},"longitude":16.5917237,"latitude":49.034454200000006},{"id":339655,"name":"Vojkovice n.Svrat. z","stops":0,"departure":{"day":0,"hour":8,"minute":26},"longitude":null,"latitude":null},{"id":358150,"name":"Rajhrad z","stops":0,"departure":{"day":0,"hour":8,"minute":27},"longitude":16.605003699999997,"latitude":49.085269200000006},{"id":358259,"name":"Popovice u Rajhr. z","stops":0,"departure":{"day":0,"hour":8,"minute":28},"longitude":null,"latitude":null},{"id":349456,"name":"Modřice","stops":0,"departure":{"day":0,"hour":8,"minute":30},"longitude":16.606126999999997,"latitude":49.1335826},{"id":333062,"name":"H.Heršpice modř.zhl.","stops":0,"departure":{"day":0,"hour":8,"minute":31},"longitude":null,"latitude":null},{"id":333054,"name":"Brno-Horní Heršpice","stops":0,"departure":{"day":0,"hour":8,"minute":32},"longitude":16.606463899999998,"latitude":49.1677933},{"id":332957,"name":"Brno hl.n.","stops":1,"departure":{"day":0,"hour":8,"minute":38},"longitude":16.612433300000003,"latitude":49.1906092},{"id":333955,"name":"Odb Brno-Židenice z","stops":0,"departure":{"day":0,"hour":8,"minute":41},"longitude":null,"latitude":null},{"id":380097,"name":"Brno-Maloměřice St.6","stops":0,"departure":{"day":0,"hour":8,"minute":44},"longitude":16.659722199999997,"latitude":49.22583330000001},{"id":330852,"name":"Bílovice n. Svit. z","stops":0,"departure":{"day":0,"hour":8,"minute":47},"longitude":null,"latitude":null},{"id":330357,"name":"Babice n. Svitavou z","stops":0,"departure":{"day":0,"hour":8,"minute":50},"longitude":16.67083329999999,"latitude":49.275555499999996},{"id":330159,"name":"Adamov","stops":0,"departure":{"day":0,"hour":8,"minute":53},"longitude":16.663370699999998,"latitude":49.2955967},{"id":330258,"name":"Adamov zast. z","stops":0,"departure":{"day":0,"hour":8,"minute":53},"longitude":null,"latitude":null},{"id":330951,"name":"Blansko","stops":0,"departure":{"day":0,"hour":8,"minute":59},"longitude":16.648050199999997,"latitude":49.3520826},{"id":331157,"name":"Blansko město z","stops":0,"departure":{"day":0,"hour":8,"minute":59},"longitude":16.6388888,"latitude":49.3613888},{"id":331058,"name":"Dolní Lhota z","stops":0,"departure":{"day":0,"hour":9,"minute":1},"longitude":16.63692,"latitude":49.385723},{"id":358051,"name":"Rájec-Jestřebí","stops":0,"departure":{"day":0,"hour":9,"minute":2},"longitude":16.6273281,"latitude":49.40891569999999},{"id":359950,"name":"Doubravice n.Svit. z","stops":0,"departure":{"day":0,"hour":9,"minute":3},"longitude":null,"latitude":null},{"id":359851,"name":"Skalice nad Svitavou","stops":0,"departure":{"day":0,"hour":9,"minute":7},"longitude":16.6095236,"latitude":49.4801621},{"id":360057,"name":"Svitávka z","stops":0,"departure":{"day":0,"hour":9,"minute":8},"longitude":16.5983737,"latitude":49.4998169},{"id":360156,"name":"Zboněk z","stops":0,"departure":{"day":0,"hour":9,"minute":10},"longitude":16.583594199999997,"latitude":49.52144010000001},{"id":347351,"name":"Letovice zastávka z","stops":0,"departure":{"day":0,"hour":9,"minute":11},"longitude":16.5775,"latitude":49.534833299999995},{"id":347252,"name":"Letovice","stops":0,"departure":{"day":0,"hour":9,"minute":13},"longitude":16.5709863,"latitude":49.55612259999999},{"id":347260,"name":"hr.VUSC 0530/0640 02","stops":0,"departure":{"day":0,"hour":9,"minute":15},"longitude":null,"latitude":null},{"id":347450,"name":"Rozhraní z","stops":0,"departure":{"day":0,"hour":9,"minute":16},"longitude":null,"latitude":null},{"id":334672,"name":"Moravská Chrastová z","stops":0,"departure":{"day":0,"hour":9,"minute":17},"longitude":16.524675199999997,"latitude":49.623352000000004},{"id":334375,"name":"Březová nad Svitavou","stops":0,"departure":{"day":0,"hour":9,"minute":18},"longitude":16.507912599999997,"latitude":49.655735299999996},{"id":334474,"name":"Břez.n.Sv.-Dlouhá z","stops":0,"departure":{"day":0,"hour":9,"minute":20},"longitude":null,"latitude":null},{"id":334573,"name":"Hradec n. Svitavou z","stops":0,"departure":{"day":0,"hour":9,"minute":24},"longitude":16.4849997,"latitude":49.7013502},{"id":334771,"name":"Svitavy-Lány z","stops":0,"departure":{"day":0,"hour":9,"minute":26},"longitude":16.483455300000003,"latitude":49.734618299999994},{"id":543330,"name":"Svitavy","stops":0,"departure":{"day":0,"hour":9,"minute":28},"longitude":16.4795188,"latitude":49.759249600000004},{"id":543439,"name":"Svitavy-Lačnov z","stops":0,"departure":{"day":0,"hour":9,"minute":29},"longitude":16.487323999999997,"latitude":49.7927206},{"id":543132,"name":"Opatov","stops":0,"departure":{"day":0,"hour":9,"minute":31},"longitude":16.4855519,"latitude":49.815868200000004},{"id":543231,"name":"Semanín z","stops":0,"departure":{"day":0,"hour":9,"minute":32},"longitude":16.474099900000002,"latitude":49.8474096},{"id":580134,"name":"Odb Zádulka","stops":0,"departure":{"day":0,"hour":9,"minute":33},"longitude":null,"latitude":null},{"id":539130,"name":"Česká Třebová","stops":1,"departure":{"day":0,"hour":9,"minute":38},"longitude":16.4463977,"latitude":49.897608500000004},{"id":539148,"name":"Č.Třebová náv. OS","stops":0,"departure":{"day":0,"hour":9,"minute":39},"longitude":null,"latitude":null},{"id":580332,"name":"Odb Parník","stops":0,"departure":{"day":0,"hour":9,"minute":41},"longitude":null,"latitude":null},{"id":539239,"name":"Dlouhá Třebová","stops":0,"departure":{"day":0,"hour":9,"minute":43},"longitude":16.4228008,"latitude":49.93552329999999},{"id":538736,"name":"Ústí n.Orl.město z","stops":0,"departure":{"day":0,"hour":9,"minute":44},"longitude":null,"latitude":null},{"id":538637,"name":"Ústí nad Orlicí","stops":0,"departure":{"day":0,"hour":9,"minute":45},"longitude":16.395450699999998,"latitude":49.968666799999994},{"id":538538,"name":"Bezpráví z","stops":0,"departure":{"day":0,"hour":9,"minute":49},"longitude":16.332507999999997,"latitude":49.997456},{"id":538439,"name":"Brandýs nad Orlicí","stops":0,"departure":{"day":0,"hour":9,"minute":52},"longitude":16.283906599999998,"latitude":50.000421700000004},{"id":538421,"name":"Brandýs n.O.kol. 1-4","stops":0,"departure":{"day":0,"hour":9,"minute":52},"longitude":null,"latitude":null},{"id":538132,"name":"Choceň","stops":0,"departure":{"day":0,"hour":9,"minute":55},"longitude":16.2239313,"latitude":49.99376119999999},{"id":538231,"name":"Sruby z","stops":0,"departure":{"day":0,"hour":9,"minute":57},"longitude":null,"latitude":null},{"id":537134,"name":"Dobříkov u Chocně z","stops":0,"departure":{"day":0,"hour":9,"minute":58},"longitude":16.1366258,"latitude":49.9958791},{"id":536938,"name":"Zámrsk","stops":0,"departure":{"day":0,"hour":9,"minute":59},"longitude":16.108658900000002,"latitude":49.9949443},{"id":537035,"name":"Sedlíšťka z","stops":0,"departure":{"day":0,"hour":10,"minute":0},"longitude":16.06454039999999,"latitude":49.990123499999996},{"id":536839,"name":"Uhersko","stops":0,"departure":{"day":0,"hour":10,"minute":1},"longitude":16.0148277,"latitude":49.98740129999999},{"id":536730,"name":"Moravany","stops":0,"departure":{"day":0,"hour":10,"minute":3},"longitude":15.946277499999999,"latitude":50.00223889999999},{"id":536532,"name":"Kostěnice","stops":0,"departure":{"day":0,"hour":10,"minute":5},"longitude":15.897461300000002,"latitude":50.012915},{"id":536631,"name":"Pardubice-Č.za B. z","stops":0,"departure":{"day":0,"hour":10,"minute":7},"longitude":15.830526,"latitude":50.02760439999999},{"id":536433,"name":"Pardubice-Pardub. z","stops":0,"departure":{"day":0,"hour":10,"minute":8},"longitude":15.75714,"latitude":50.0323995},{"id":536136,"name":"Pardubice hl.n.","stops":1,"departure":{"day":0,"hour":10,"minute":12},"longitude":15.75714,"latitude":50.0323995},{"id":536334,"name":"Pardubice-Svítkov z","stops":0,"departure":{"day":0,"hour":10,"minute":14},"longitude":15.723591599999999,"latitude":50.031831200000006},{"id":536235,"name":"Pardubice-Opočínek z","stops":0,"departure":{"day":0,"hour":10,"minute":16},"longitude":15.6700375,"latitude":50.03073199999999},{"id":535336,"name":"Valy u Přelouče z","stops":0,"departure":{"day":0,"hour":10,"minute":18},"longitude":15.6140289,"latitude":50.0301859},{"id":545137,"name":"Přelouč nákl. n.","stops":0,"departure":{"day":0,"hour":10,"minute":19},"longitude":null,"latitude":null},{"id":535138,"name":"Přelouč","stops":0,"departure":{"day":0,"hour":10,"minute":19},"longitude":15.5277272,"latitude":50.0367354},{"id":535237,"name":"Lhota pod Přeloučí z","stops":0,"departure":{"day":0,"hour":10,"minute":21},"longitude":15.5277272,"latitude":50.0367354},{"id":534834,"name":"Řečany nad Labem","stops":0,"departure":{"day":0,"hour":10,"minute":22},"longitude":15.478563000000001,"latitude":50.03170989999999},{"id":535039,"name":"Chvaletice z","stops":0,"departure":{"day":0,"hour":10,"minute":24},"longitude":null,"latitude":null},{"id":534933,"name":"Kojice z","stops":0,"departure":{"day":0,"hour":10,"minute":24},"longitude":15.397782199999998,"latitude":50.0405058},{"id":534537,"name":"hr.VUSC 0200/0530 02","stops":0,"departure":{"day":0,"hour":10,"minute":25},"longitude":null,"latitude":null},{"id":534743,"name":"Týnec nad Labem z","stops":0,"departure":{"day":0,"hour":10,"minute":26},"longitude":15.359176800000002,"latitude":50.037525099999996},{"id":534545,"name":"Záboří nad Labem","stops":0,"departure":{"day":0,"hour":10,"minute":26},"longitude":15.3490962,"latitude":50.03089669999999},{"id":534644,"name":"Starý Kolín z","stops":0,"departure":{"day":0,"hour":10,"minute":28},"longitude":15.2956543,"latitude":50.0111567},{"id":534180,"name":"Kolín vjezd.náv.L","stops":0,"departure":{"day":0,"hour":10,"minute":29},"longitude":null,"latitude":null},{"id":534842,"name":"Kolín dílny z","stops":0,"departure":{"day":0,"hour":10,"minute":30},"longitude":15.2335364,"latitude":50.011743100000004},{"id":580076,"name":"Kolín seř.n.","stops":0,"departure":{"day":0,"hour":10,"minute":30},"longitude":null,"latitude":null},{"id":534149,"name":"Kolín","stops":0,"departure":{"day":0,"hour":10,"minute":31},"longitude":null,"latitude":null},{"id":534248,"name":"Kolín zastávka z","stops":0,"departure":{"day":0,"hour":10,"minute":32},"longitude":15.196219000000001,"latitude":50.0304542},{"id":531764,"name":"Nová Ves u Kolína z","stops":0,"departure":{"day":0,"hour":10,"minute":34},"longitude":15.1504441,"latitude":50.05524039999999},{"id":531566,"name":"Velim","stops":0,"departure":{"day":0,"hour":10,"minute":35},"longitude":15.124820999999999,"latitude":50.06776979999999},{"id":531665,"name":"Cerhenice z","stops":0,"departure":{"day":0,"hour":10,"minute":36},"longitude":15.079507500000002,"latitude":50.077813899999995},{"id":531160,"name":"Pečky","stops":0,"departure":{"day":0,"hour":10,"minute":38},"longitude":15.027847,"latitude":50.089879499999995},{"id":531269,"name":"Tatce z","stops":0,"departure":{"day":0,"hour":10,"minute":39},"longitude":14.9842242,"latitude":50.09947760000001},{"id":530964,"name":"Poříčany","stops":0,"departure":{"day":0,"hour":10,"minute":41},"longitude":14.9223113,"latitude":50.1110692},{"id":531061,"name":"Klučov z","stops":0,"departure":{"day":0,"hour":10,"minute":42},"longitude":14.9040937,"latitude":50.094392},{"id":530667,"name":"Český Brod","stops":0,"departure":{"day":0,"hour":10,"minute":44},"longitude":14.8654025,"latitude":50.07638729999999},{"id":530865,"name":"Rostoklaty z","stops":0,"departure":{"day":0,"hour":10,"minute":47},"longitude":14.805079999999998,"latitude":50.078410399999996},{"id":530766,"name":"Tuklaty z","stops":0,"departure":{"day":0,"hour":10,"minute":48},"longitude":14.7711687,"latitude":50.076913},{"id":530469,"name":"Úvaly","stops":0,"departure":{"day":0,"hour":10,"minute":50},"longitude":14.721898000000001,"latitude":50.07532959999999},{"id":530477,"name":"hr.VUSC 0100/0200 04","stops":0,"departure":{"day":0,"hour":10,"minute":51},"longitude":null,"latitude":null},{"id":530568,"name":"Praha-Klánovice z","stops":0,"departure":{"day":0,"hour":10,"minute":52},"longitude":14.6635076,"latitude":50.0873159},{"id":580662,"name":"P.Běchovice-Blatov","stops":0,"departure":{"day":0,"hour":10,"minute":54},"longitude":null,"latitude":null},{"id":530063,"name":"P.-Běchovice střed z","stops":0,"departure":{"day":0,"hour":10,"minute":55},"longitude":null,"latitude":null},{"id":530162,"name":"Praha-Běchovice","stops":0,"departure":{"day":0,"hour":10,"minute":56},"longitude":14.598125699999999,"latitude":50.08200069999999},{"id":530360,"name":"Praha-D.Počernice z","stops":0,"departure":{"day":0,"hour":10,"minute":57},"longitude":14.569572199999998,"latitude":50.088359600000004},{"id":573667,"name":"Praha-Kyje z","stops":0,"departure":{"day":0,"hour":10,"minute":58},"longitude":14.543335199999998,"latitude":50.0976641},{"id":571760,"name":"Praha-Libeň","stops":0,"departure":{"day":0,"hour":11,"minute":1},"longitude":14.502085699999999,"latitude":50.100781500000004},{"id":570754,"name":"Pha hl.n.L601b,L602b","stops":0,"departure":{"day":0,"hour":11,"minute":3},"longitude":null,"latitude":null},{"id":570762,"name":"Praha hl.n.","stops":1,"departure":{"day":0,"hour":11,"minute":19},"longitude":14.4352976,"latitude":50.0832323},{"id":572768,"name":"Praha-Vršovice","stops":0,"departure":{"day":0,"hour":11,"minute":23},"longitude":14.447762599999999,"latitude":50.06471690000001},{"id":500306,"name":"hi Pha odst.n.vjezd","stops":0,"departure":{"day":0,"hour":11,"minute":25},"longitude":null,"latitude":null},{"id":583765,"name":"Praha odstavné n.","stops":1,"departure":{},"longitude":14.4352976,"latitude":50.0832323}]};
function initMap() {
    $(function() {
        drawMap(("map"), json);
    });
}

document.writeln("<script async defer src='https://maps.googleapis.com/maps/api/js?key=" + API_KEY + "&amp;callback=initMap'></script>");
-->
</script>
</body>
</html>
